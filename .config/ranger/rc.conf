# SARBS Ranger-Einstellungen
## 2026-02-21   SARBS
# Angelehnt an die lf-Konfiguration

# === Grundlegende Einstellungen ===
set viewmode miller
set column_ratios 1,3,4
set hidden_filter ^\.|\.aux$|\.log$|\.bbl$|\.bcf$|\.blg$|\.run\.xml$
set show_hidden false
set confirm_on_delete multiple
set use_preview_script false
set automatically_count_files true
set open_all_images true

# Bildvorschauen aktivieren
# ueberzugpp wird als Methode verwendet (Nachfolger von ueberzug)
set preview_images true
set preview_images_method ueberzug

# Scrolloff (wie in lf: set scrolloff 10)
set scroll_offset 10

# VCS-Integration (Git-Status in der Dateiliste)
set vcs_aware true
set vcs_backend_git enabled

# Verschiedene Einstellungen
set draw_borders both
set dirname_in_tabs true
set update_title true
set max_history_size 20
set max_console_history_size 50
set status_bar_on_top false
set tilde_in_titlebar true
set sort natural
set sort_case_insensitive true
set sort_directories_first true

# === Tastenbelegungen ===

# Navigieren
map <C-f> fzf_select
map H cd ~
map g  move to=0
map J fzf_bookmark

# Dateioperationen (eigene Befehle aus commands.py)
map D console delete
map E extract
map M moveto
map C copyto
map <C-n> console mkdir%space
map <C-r> reload_cwd
map <TAB> reload_cwd
map <C-s> set show_hidden!

# Massenumbenennung
map B bulkrename

# Hintergrundbild setzen
map b shell setbg %f

# Bildbearbeitung
map Pk bild_komprimieren

# Videobearbeitung
map Rx shell -w convert-audio %f
map Rv shell -w convert-video %f
map Ry shell -w convert-yt %f

# ADB-Push auf Android Handy
map Ad shell -w adb push %f /sdcard/Download
map Am shell -w adb push %f /sdcard/Music

# Dateibearbeitung
map <ENTER> shell bash
map x shell %f
map X shell -w %f
map T shell nsxiv -t "$(pwd)"
map o shell -f mimeopen "%f"
map O shell mimeopen --ask "%f"
map V console shell nvim%space
map W shell -f setsid -f $TERMINAL >/dev/null 2>&1

# Ausfuehrungsrechte
map <C-x> shell chmod +x %s
map <C-y> shell chmod -x %s

# Datei-Aenderungen (Metadaten, Rechte)
map äx shell chmod +x %s
map äX shell chmod -x %s

# Umbenennen
map c console rename%space
map i eval fm.open_console('rename ' + fm.thisfile.relative_path)
map I eval fm.open_console('rename ' + fm.thisfile.relative_path, position=7)
map a eval fm.open_console('rename ' + fm.thisfile.relative_path, position=(7 + fm.thisfile.relative_path.rfind('.')))

# Zwischenablage
map U shell printf "%%s" %s | xclip -selection clipboard
map u shell basename %f | xclip -selection clipboard

# Git Befehle (eigene Befehle aus commands.py)
map ös git_status
map öl shell -w git log --graph --pretty=format:'%%C(yellow)%%h%%C(reset) %%C(cyan)%%d%%C(reset) %%s %%C(green)(%%cr) %%C(blue)<%%an>%%C(reset)' --abbrev-commit -20 | less -R
map öd shell -w git diff --color=always %f | less -R
map öa shell git add %f
map öA shell git add -A
map ör shell git reset HEAD %f
map öc shell -w git commit
map öp shell -w git push
map öP shell -w git pull
map öm shell -w nvim -c MagitOnly
