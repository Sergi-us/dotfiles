#!/bin/sh
## 2025-12-10   SARBS
# Qutebrowser Wrapper mit Qt-Skalierung

# Manuelle Skalierung (überschreibt Auto-Erkennung)
# Qutebrowser nutzt eigene Schriftgrößen-Logik in config.py
# basierend auf DPI - zusätzliche Qt-Skalierung nicht nötig
SCALE_FACTOR=1

# Lese berechneten Skalierungsfaktor aus State-Datei (falls nicht manuell gesetzt)
# Bei Qutebrowser bleibt SCALE_FACTOR=1 da Skalierung über pt-Größen in config.py erfolgt
# state_file="${XDG_STATE_HOME:-$HOME/.local/state}/xsession/scale"
# [ -f "$state_file" ] && SCALE_FACTOR=$(cat "$state_file")

# Qt-Skalierung
export QT_SCALE_FACTOR=$SCALE_FACTOR

# Optional: Falls App zu groß/klein wird
# Override System-DPI für Schriften
# export QT_FONT_DPI=96

exec /usr/bin/qutebrowser "$@"
