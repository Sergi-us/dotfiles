#!/bin/sh
## 2025-10-11 - Angepasst: Caps→Compose, RCtrl→Super_R

# Dieses Skript wird beim Start aufgerufen um Tasten neu zu belegen.
# Tastaturwiederholung: Verzögerung auf 300ms reduzieren, Rate auf 50 pro Sekunde erhöhen.
xset r rate 300 50

# WICHTIG: Erst alte Optionen clearen, dann neue setzen
setxkbmap -option

# Caps Lock → Compose (für Akzente und Sonderzeichen)
setxkbmap -option compose:caps
setxkbmap -option altwin:menu_win

# Caps Lock Funktion deaktivieren
# setxkbmap -option ctrl:nocaps

# Rechte Strg → Super_R (zweite Super/Mod-Taste)
xmodmap -e "remove Control = Control_R"
xmodmap -e "keysym Control_R = Super_R"
xmodmap -e "add Mod4 = Super_R"

# Caps Lock ausschalten falls noch an
xset -q | grep -q "Caps Lock:\s*on" && xdotool key Caps_Lock
